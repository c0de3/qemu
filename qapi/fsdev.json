# -*- Mode: Python -*-

##
# == QAPI fsdev definitions
##

# QAPI common definitions
{ 'include': 'iothrottle.json' }

##
# @fsdev-set-io-throttle:
#
# Change I/O limits for a 9p/fsdev device.
#
# I/O limits can be enabled by setting throttle value to non-zero number.
#
# I/O limits can be disabled by setting all throttle values to 0.
#
# Returns: Nothing on success
#          If @device is not a valid fsdev device, DeviceNotFound
#
# Since: 2.10
#
# Example:
#
# -> { "execute": "fsdev-set-io-throttle",
#      "arguments": { "id": "id0-1-0",
#                     "bps": 1000000,
#                     "bps_rd": 0,
#                     "bps_wr": 0,
#                     "iops": 0,
#                     "iops_rd": 0,
#                     "iops_wr": 0,
#                     "bps_max": 8000000,
#                     "bps_rd_max": 0,
#                     "bps_wr_max": 0,
#                     "iops_max": 0,
#                     "iops_rd_max": 0,
#                     "iops_wr_max": 0,
#                     "bps_max_length": 60,
#                     "iops_size": 0 } }
# <- { "returns": {} }
##
{ 'command': 'fsdev-set-io-throttle', 'boxed': true,
  'data': 'IOThrottle' }
##
# @query-fsdev-io-throttle:
#
# Returns: a list of @IOThrottle describing io throttle values of each fsdev device
#
# Since: 2.10
#
# Example:
#
# -> { "Execute": "query-fsdev-io-throttle" }
# <- { "returns" : [
#          {
#             "id": "id0-hd0",
#              "bps":1000000,
#              "bps_rd":0,
#              "bps_wr":0,
#              "iops":1000000,
#              "iops_rd":0,
#              "iops_wr":0,
#              "bps_max": 8000000,
#              "bps_rd_max": 0,
#              "bps_wr_max": 0,
#              "iops_max": 0,
#              "iops_rd_max": 0,
#              "iops_wr_max": 0,
#              "bps_max_length": 0,
#              "bps_rd_max_length": 0,
#              "bps_wr_max_length": 0,
#              "iops_max_length": 0,
#              "iops_rd_max_length": 0,
#              "iops_wr_max_length": 0,
#              "iops_size": 0
#            }
#          ]
#      }
#
##
{ 'command': 'query-fsdev-io-throttle', 'returns': [ 'IOThrottle' ] }

